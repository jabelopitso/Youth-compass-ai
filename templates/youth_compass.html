<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youth Compass AI - Your Complete Life Direction Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            min-height: 100vh;
            color: #334155;
        }
        
        .header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        
        .nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: 700;
            font-size: 28px;
            color: #0f172a;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }
        
        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .hero {
            text-align: center;
            margin-bottom: 60px;
            color: white;
        }
        
        .hero h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
        }
        
        .hero .subtitle {
            font-size: 20px;
            opacity: 0.9;
            margin-bottom: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero .tagline {
            font-size: 24px;
            font-weight: 600;
            color: #3b82f6;
            margin-bottom: 40px;
        }
        
        .life-areas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 60px 0;
        }
        
        .area-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .area-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
        }
        
        .area-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .area-icon {
            font-size: 40px;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 15px;
        }
        
        .area-title {
            font-size: 24px;
            font-weight: 700;
            color: #0f172a;
        }
        
        .area-description {
            color: #64748b;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        
        .area-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            transition: all 0.2s ease;
        }
        
        .area-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }
        
        .progress-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .progress-title {
            font-size: 28px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .progress-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .progress-item {
            text-align: center;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
        }
        
        .progress-item.completed {
            border-color: #10b981;
            background: #ecfdf5;
        }
        
        .progress-number {
            font-size: 32px;
            font-weight: 700;
            color: #3b82f6;
        }
        
        .progress-label {
            font-size: 14px;
            color: #64748b;
            margin-top: 8px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: #0f172a;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #64748b;
        }
        
        .question {
            margin: 25px 0;
        }
        
        .question-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 10px;
            display: block;
        }
        
        .question-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
        }
        
        .question-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-top: 20px;
        }
        
        .result-section {
            margin-top: 30px;
            padding: 25px;
            background: #f8fafc;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
        }
        
        .result-title {
            font-size: 20px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 15px;
        }
        
        .result-text {
            color: #475569;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .next-steps {
            margin-top: 20px;
        }
        
        .next-steps h4 {
            color: #0f172a;
            margin-bottom: 10px;
        }
        
        .next-steps ul {
            list-style: none;
            padding: 0;
        }
        
        .next-steps li {
            padding: 8px 0;
            color: #475569;
            position: relative;
            padding-left: 25px;
        }
        
        .next-steps li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .hero h1 { font-size: 36px; }
            .life-areas { grid-template-columns: 1fr; }
            .modal-content { padding: 25px; }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">
                <div class="logo-icon">üß≠</div>
                <span>Youth Compass AI</span>
            </div>
        </nav>
    </header>

    <div class="container">
        <div class="hero">
            <h1>Your Complete Life Direction Platform</h1>
            <p class="subtitle">The all-in-one AI-powered system that helps South African youth understand themselves, find opportunities, and create their path to success</p>
            <p class="tagline">It's not just a job app ‚Äî it's your life compass</p>
        </div>

        <div class="progress-section">
            <h2 class="progress-title">Your Journey Progress</h2>
            <div class="progress-grid">
                <div class="progress-item" id="progress-self">
                    <div class="progress-number">0</div>
                    <div class="progress-label">Self Understanding</div>
                </div>
                <div class="progress-item" id="progress-opportunities">
                    <div class="progress-number">0</div>
                    <div class="progress-label">Opportunities Found</div>
                </div>
                <div class="progress-item" id="progress-education">
                    <div class="progress-number">0</div>
                    <div class="progress-label">Education Planned</div>
                </div>
                <div class="progress-item" id="progress-support">
                    <div class="progress-number">0</div>
                    <div class="progress-label">Support Accessed</div>
                </div>
                <div class="progress-item" id="progress-community">
                    <div class="progress-number">0</div>
                    <div class="progress-label">Connections Made</div>
                </div>
                <div class="progress-item" id="progress-pathway">
                    <div class="progress-number">0</div>
                    <div class="progress-label">Pathway Created</div>
                </div>
            </div>
        </div>

        <div class="life-areas">
            <div class="area-card" onclick="openAssessment('self_understanding')">
                <div class="area-header">
                    <div class="area-icon">üß†</div>
                    <div class="area-title">Understanding Myself</div>
                </div>
                <div class="area-description">
                    Discover your unique strengths, values, personality traits, and natural talents through AI-powered self-assessment.
                </div>
                <button class="area-button">Start Self-Discovery</button>
            </div>

            <div class="area-card" onclick="openAssessment('opportunities')">
                <div class="area-header">
                    <div class="area-icon">üéØ</div>
                    <div class="area-title">Finding Opportunities</div>
                </div>
                <div class="area-description">
                    Explore career paths, job markets, and opportunities that match your profile in South Africa's growing economy.
                </div>
                <button class="area-button">Discover Opportunities</button>
            </div>

            <div class="area-card" onclick="openAssessment('education')">
                <div class="area-header">
                    <div class="area-icon">üìö</div>
                    <div class="area-title">Educational Choices</div>
                </div>
                <div class="area-description">
                    Make informed decisions about courses, qualifications, and learning paths that align with your goals and budget.
                </div>
                <button class="area-button">Plan Education</button>
            </div>

            <div class="area-card" onclick="openAssessment('support')">
                <div class="area-header">
                    <div class="area-icon">üí™</div>
                    <div class="area-title">Emotional Support</div>
                </div>
                <div class="area-description">
                    Access AI-powered motivation, resilience training, stress management, and mental wellness support 24/7.
                </div>
                <button class="area-button">Get Support</button>
            </div>

            <div class="area-card" onclick="openAssessment('community')">
                <div class="area-header">
                    <div class="area-icon">ü§ù</div>
                    <div class="area-title">Youth Community</div>
                </div>
                <div class="area-description">
                    Connect with like-minded peers, find study partners, mentors, and build your professional network.
                </div>
                <button class="area-button">Join Community</button>
            </div>

            <div class="area-card" onclick="openAssessment('pathway')">
                <div class="area-header">
                    <div class="area-icon">üó∫Ô∏è</div>
                    <div class="area-title">Life Pathway</div>
                </div>
                <div class="area-description">
                    Create your personalized roadmap with clear milestones, timelines, and action steps for the next 5 years.
                </div>
                <button class="area-button">Create Pathway</button>
            </div>
        </div>
    </div>

    <!-- Assessment Modal -->
    <div id="assessmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Assessment</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalContent">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        let currentArea = '';
        let assessmentData = JSON.parse(localStorage.getItem('youthCompassData') || '{}');

        function updateProgress() {
            Object.keys(assessmentData).forEach(area => {
                const element = document.getElementById(`progress-${area.replace('_', '-')}`);
                if (element) {
                    element.classList.add('completed');
                    element.querySelector('.progress-number').textContent = '‚úì';
                }
            });
        }

        function openAssessment(area) {
            currentArea = area;
            const modal = document.getElementById('assessmentModal');
            const title = document.getElementById('modalTitle');
            const content = document.getElementById('modalContent');

            // Area-specific content
            const areaData = {
                'self_understanding': {
                    title: 'üß† Understanding Myself',
                    questions: [
                        'What activities make you lose track of time?',
                        'What are you naturally good at?',
                        'What values are most important to you?',
                        'How do you prefer to work - alone or with others?'
                    ]
                },
                'opportunities': {
                    title: 'üéØ Finding Opportunities',
                    questions: [
                        'What type of work environment excites you?',
                        'Which industries interest you most?',
                        'What impact do you want to make?',
                        'What are your salary and lifestyle goals?'
                    ]
                },
                'education': {
                    title: 'üìö Educational Choices',
                    questions: [
                        'What is your current education level?',
                        'What subjects do you enjoy most?',
                        'What is your learning budget?',
                        'How much time can you dedicate to studying?'
                    ]
                },
                'support': {
                    title: 'üí™ Emotional Support',
                    questions: [
                        'What challenges are you currently facing?',
                        'How do you handle stress and setbacks?',
                        'What motivates you to keep going?',
                        'What support do you need most right now?'
                    ]
                },
                'community': {
                    title: 'ü§ù Youth Community',
                    questions: [
                        'What type of people do you want to connect with?',
                        'What skills would you like to learn from others?',
                        'How can you help other young people?',
                        'What kind of mentor are you looking for?'
                    ]
                },
                'pathway': {
                    title: 'üó∫Ô∏è Life Pathway',
                    questions: [
                        'Where do you see yourself in 1 year?',
                        'What are your biggest dreams and goals?',
                        'What obstacles might you face?',
                        'What does success look like to you?'
                    ]
                }
            };

            const data = areaData[area];
            title.textContent = data.title;

            let html = '<form id="assessmentForm">';
            data.questions.forEach((question, index) => {
                html += `
                    <div class="question">
                        <label class="question-label">${question}</label>
                        <textarea class="question-input" name="q${index}" rows="3" required></textarea>
                    </div>
                `;
            });
            html += '<button type="submit" class="submit-btn">Get AI Analysis</button></form>';
            html += '<div id="results"></div>';

            content.innerHTML = html;

            document.getElementById('assessmentForm').addEventListener('submit', handleSubmit);
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('assessmentModal').style.display = 'none';
        }

        async function handleSubmit(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const responses = [];
            
            for (let [key, value] of formData.entries()) {
                responses.push(value);
            }

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;">ü§ñ AI is analyzing your responses...</div>';

            try {
                const response = await fetch('/analyze', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        area: currentArea,
                        responses: responses
                    })
                });

                const data = await response.json();
                
                // Store results
                assessmentData[currentArea] = data;
                localStorage.setItem('youthCompassData', JSON.stringify(assessmentData));
                
                // Display results
                resultsDiv.innerHTML = `
                    <div class="result-section">
                        <div class="result-title">üéØ Your AI Analysis</div>
                        <div class="result-text">${data.analysis}</div>
                        <div class="next-steps">
                            <h4>üöÄ Recommended Next Steps:</h4>
                            <ul>
                                ${data.next_steps.map(step => `<li>${step}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;

                updateProgress();

            } catch (error) {
                resultsDiv.innerHTML = '<div class="result-section"><div class="result-title">Error</div><div class="result-text">Unable to process your responses. Please try again.</div></div>';
            }
        }

        // Initialize progress on page load
        updateProgress();

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('assessmentModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>